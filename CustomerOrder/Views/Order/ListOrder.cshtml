@model IEnumerable<CustomerOrder.ViewModel.OrderViewModel>

@{
    ViewBag.Title = "ListOrder";
}

<h2>ListOrder</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        @*<th>
                @Html.DisplayNameFor(model => model.OrderNum)
            </th>*@
        <th>
            <a id="fullname" onclick="Sort('fullname')">
                @Html.DisplayNameFor(model => model.CustomerName)
            </a>

        </th>
        <th>
            <a id="city" onclick="Sort('city')">
                @Html.DisplayNameFor(model => model.CustomerCity)
            </a>
        </th>
        <th>
            <a id="OrderDate" onclick="Sort('OrderDate')">
                @Html.DisplayNameFor(model => model.OrderDate)
             </a>
        </th>
        </a>
        <th>
            <a id="AdvanceAmount" onclick="Sort('AdvanceAmount')">
                @Html.DisplayNameFor(model => model.AdvanceAmount)
            </a>
        </th>
        <th>
            <a id="AdvanceAmount" onclick="Sort('OrderAmount')">

                @Html.DisplayNameFor(model => model.OrderAmount)
                </a>
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.OrderDescription)
            </th>*@
        <th>
            <a id="AgentName" onclick="Sort('AgentName')">
                @Html.DisplayNameFor(model => model.AgentName)
            </a>
        </th>

        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            @*<td>
                    @Html.DisplayFor(modelItem => item.OrderNum)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.CustomerName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CustomerCity)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.OrderDate)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.AdvanceAmount)
            </td>
            <td>
                    @Html.DisplayFor(modelItem => item.OrderAmount)
                </td>
                @*<td>
                    @Html.DisplayFor(modelItem => item.OrderDescription)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.AgentName)
            </td>
            <td>
                @if (item.OrderPerCustomer > 1)
                {
                    <span class="badge badge-success" >@item.OrderPerCustomer</span>
                    @Html.ActionLink("All order", "OrderDetail", new { id = item.CustomerCode })

                }
                else

                {

                    @Html.ActionLink("Order Detail", "OrderDetail", new { id = item.CustomerCode })

                }
            </td>
        </tr>
    }

</table>
<table cellpadding="0" cellspacing="0">
    <tr>

        @for (int i = 1; i <= @ViewBag.TotalPages; i++)
        {

            <td>
                @if (i != @ViewBag.CurrPage)
                {
                    <a class="pages btn btn-default" href="javascript:Goto(@i);">@i</a>
                }
                else
                {
                    <span class="pages btn btn-primary">@i</span>
                }
            </td>
        }
    </tr>
</table>
<input type="hidden" id="curpageidx" name="cPage" value=@ViewBag.CurrPage>
<input type="hidden" id="SortOrder" value=@ViewBag.SortOrder >
<input type="hidden" id="SortColumn" value=@ViewBag.SortColumn>

<script>

</script>